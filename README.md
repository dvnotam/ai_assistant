# Claude Chat

Веб-приложение для общения с Claude AI, построенное на React, TypeScript и Vite.

## Описание

Claude Chat — это современное chat-приложение с интерфейсом, вдохновленным официальным приложением Claude. Приложение позволяет взаимодействовать с Claude AI через Anthropic API в удобном веб-интерфейсе.

## Технологии

- **React 18** — библиотека для построения пользовательского интерфейса
- **TypeScript** — типизированный JavaScript для надежности кода
- **Vite** — современный инструмент сборки для быстрой разработки
- **@anthropic-ai/sdk** — официальный SDK для работы с Anthropic API

## Структура проекта

```
├── src/
│   ├── components/          # React компоненты
│   │   ├── ApiKeyInput.tsx      # Компонент ввода API ключа
│   │   ├── ApiKeyInput.css
│   │   ├── ChatContainer.tsx    # Главный контейнер чата
│   │   ├── ChatContainer.css
│   │   ├── Message.tsx          # Компонент отдельного сообщения
│   │   ├── Message.css
│   │   ├── MessageList.tsx      # Список сообщений
│   │   ├── MessageList.css
│   │   ├── MessageInput.tsx     # Поле ввода сообщений
│   │   └── MessageInput.css
│   ├── hooks/               # Пользовательские React хуки
│   │   └── useChat.ts           # Хук для управления состоянием чата
│   ├── services/            # Сервисы для работы с API
│   │   └── claudeService.ts     # Сервис для работы с Claude API
│   ├── types/               # TypeScript типы и интерфейсы
│   │   └── chat.ts              # Типы для сообщений и состояния чата
│   ├── App.tsx              # Главный компонент приложения
│   ├── App.css
│   ├── main.tsx             # Точка входа приложения
│   ├── index.css            # Глобальные стили
│   └── vite-env.d.ts        # TypeScript декларации для Vite
├── public/                  # Статические файлы
├── index.html               # HTML шаблон
├── package.json             # Зависимости и скрипты
├── tsconfig.json            # Конфигурация TypeScript
├── tsconfig.app.json        # Конфигурация TypeScript для приложения
├── tsconfig.node.json       # Конфигурация TypeScript для Node
├── vite.config.ts           # Конфигурация Vite
└── README.md                # Документация проекта
```

## Архитектура

### Компоненты

- **ApiKeyInput**: Форма для ввода API ключа Anthropic перед началом работы
- **ChatContainer**: Основной контейнер, управляющий всем интерфейсом чата
- **MessageList**: Отображает список сообщений с автопрокруткой
- **Message**: Отображает отдельное сообщение (пользователя или ассистента)
- **MessageInput**: Текстовое поле с автоматическим изменением размера и кнопкой отправки

### Хуки

- **useChat**: Управляет состоянием чата, отправкой сообщений и взаимодействием с API

### Сервисы

- **claudeService**: Инкапсулирует логику работы с Anthropic API

### Типы

- **Message**: Интерфейс для сообщений (id, role, content, timestamp)
- **ChatState**: Интерфейс для состояния чата (messages, isLoading, error)

## Установка и запуск

### Предварительные требования

- Node.js версии 18 или выше
- npm или yarn
- API ключ от Anthropic ([получить здесь](https://console.anthropic.com/))

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

```bash
npm run dev
```

Приложение будет доступно по адресу `http://localhost:5173`

### Сборка для продакшена

```bash
npm run build
```

Собранные файлы будут находиться в папке `dist/`

### Предпросмотр продакшен сборки

```bash
npm run preview
```

## Использование

1. Откройте приложение в браузере
2. Введите свой API ключ от Anthropic (начинается с `sk-ant-...`)
3. Начните общение с Claude
4. Используйте кнопку "Clear" для очистки истории сообщений
5. Используйте кнопку "Change Key" для смены API ключа

## Особенности

- **Автосохранение API ключа**: Ключ сохраняется в localStorage для удобства
- **Адаптивный интерфейс**: Работает на всех размерах экрана
- **Автопрокрутка**: Автоматически прокручивает к новым сообщениям
- **Индикатор загрузки**: Анимированный индикатор при ожидании ответа от Claude
- **Обработка ошибок**: Отображение ошибок API в удобном формате
- **Изменяемое поле ввода**: Текстовое поле автоматически расширяется при вводе

## Примечание по безопасности

В текущей реализации API ключ хранится в localStorage браузера, а запросы к API выполняются напрямую из браузера (используется опция `dangerouslyAllowBrowser: true`).

**Для продакшен использования рекомендуется:**
- Реализовать backend прокси-сервер для работы с Anthropic API
- Хранить API ключ на сервере, а не в браузере
- Добавить аутентификацию пользователей
- Использовать переменные окружения для конфигурации

## Лицензия

MIT
